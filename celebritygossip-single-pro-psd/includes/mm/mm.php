<?php ${"\x47\x4c\x4f\x42\x41\x4c\x53"}["h\x70i\x6c\x69\x72\x77\x71\x67tf"]="\x6c\x69\x63e\x6es\x65\x5f\x69np\x75t_f\x61\x6c\x6cb\x61\x63\x6b";${"\x47\x4c\x4f\x42A\x4c\x53"}["\x78\x6b\x72\x74\x79z\x6e"]="r\x65\x74\x75\x72\x6e";function check_key($license_input_fallback=false){$zebnbvqte="\x72et\x75r\x6e";${"\x47L\x4f\x42\x41\x4c\x53"}["d\x75o\x65\x65gx"]="r\x65\x74\x75\x72\x6e";${$zebnbvqte}=false;if(!${${"\x47\x4c\x4f\x42\x41\x4cS"}["\x78\x6br\x74\x79\x7a\x6e"]}=get_option("\x6ci\x63\x65\x6es\x65\x5f\x6b\x65\x79")){if(${${"\x47LOB\x41L\x53"}["\x68\x70\x69l\x69\x72\x77\x71gt\x66"]}){enter_license();}}return${${"\x47L\x4f\x42\x41\x4c\x53"}["\x64\x75\x6f\x65e\x67x"]};}function enter_license(){global$licensing_server;if(isset($_POST["lic\x65nse\x5fke\x79"])){$rmyrccxfa="\x6c\x69\x63e\x6es\x69\x6e\x67_\x73\x65\x72\x76e\x72";$oyhimxqs="\x6c\x69\x63\x65\x6e\x73i\x6e\x67\x5fs\x74\x72\x69n\x67";$kyylxai="\x6ci\x63\x65\x6e\x73\x69\x6e\x67_\x73\x74\x72in\x67";${$kyylxai}=trailingslashit(${$rmyrccxfa})."\x3f\x72\x65\x6d\x6ft\x65\x5fkey\x5f\x61\x75\x74\x68=".base64_encode($_POST["\x6cice\x6es\x65\x5fkey"])."&\x72e\x6d\x6f\x74\x65\x5f\x73\x69\x74\x65=".base64_encode(trailingslashit(site_url()));if(wp_remote_fopen(${$oyhimxqs})==1){update_option("l\x69\x63\x65\x6ese\x5f\x6bey",$_POST["\x6ci\x63e\x6e\x73e\x5f\x6b\x65\x79"]);echo"\x41ct\x69v\x61\x74\x65d\x21";echo"<\x73\x63\x72ip\x74\x3edo\x63u\x6d\x65nt.\x6co\x63\x61\x74\x69on='\x2f\x27\x3b\x3c/\x73\x63\x72i\x70\x74>";}else{echo"\x3c\x70\x3e\x53o\x72ry the lice\x6e\x73e\x20k\x65\x79\x20\x79ou\x20e\x6e\x74\x65\x72\x65d\x20\x69s i\x6eva\x6cid\x2e\x20\x50\x6cease \x74ry a\x67\x61\x69\x6e or co\x6e\x74\x61ct\x20\x75s for\x20\x68elp\x20\x61\x74 \x73\x75ppo\x72t\x40\x6d\x61\x67\x61zi\x6e\x65\x33.c\x6f\x6d\x3c\x2fp\x3e";}}if(!check_key()){echo"<f\x6frm\x20m\x65th\x6f\x64=\"po\x73\x74\">\n\x20En\x74e\x72\x20\x6cicense key\x3a\x20\x3cin\x70ut\x20t\x79pe\x3d\"te\x78t\" \x6ea\x6de\x3d\x22\x6c\x69c\x65\x6es\x65\x5f\x6b\x65\x79\"\x20/\x3e\x20<input\x20\x74\x79\x70e=\"\x73\x75\x62m\x69t\"\x20\x6ea\x6de\x3d\"v\x61\x6cidate\x5f\x6ci\x63\x65\x6ese\x5fke\x79\x22 \x76al\x75\x65\x3d\x22\x41cti\x76\x61t\x65\" \x2f\x3e\n <\x2f\x66\x6f\x72m>\n \x3c\x62r \x2f\x3e\x20\x3cf\x6fn\x74\x20color=\x22r\x65\x64\"\x3e<\x62>N\x65w \x43us\x74\x6fmers:\x3c\x2fb> \x59o\x75\x72 Pa\x79p\x61\x6c\x20\x65\x6d\x61il\x20\x69\x64 \x69s\x20you\x72 \x4cicen\x73\x65\x20\x6b\x65\x79\x21</\x66o\x6et\x3e<br\x20/\x3e\n \x3cf\x6fn\x74 \x63olo\x72=\"\x62lac\x6b\"><b>\x45\x78i\x73t\x69\x6eg\x20C\x75s\x74\x6fmer\x73\x3a<\x2f\x62> To \x72eque\x73t th\x65 k\x65\x79, Send \x75s\x20\x61\x6e\x20\x65\x6dail\x20on\x20sa\x6ces@\x6d\x61gazine3\x2ecom \x3c\x2ffon\x74\x3e\x3cb\x72\x20\x2f>\x20 ";}}${"\x47L\x4f\x42A\x4c\x53"}["\x77\x66\x79\x66\x7aqpj\x6c"]="t\x68\x65me\x5f\x64\x69re\x63\x74\x6fr\x79";${"\x47\x4c\x4fB\x41L\x53"}["\x6dd\x73\x78\x6f\x70xpj\x6c\x6e"]="\x6c\x69\x63\x65\x6e\x73ing_\x73\x65rv\x65\x72";${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x6d\x64s\x78o\x70\x78\x70\x6a\x6c\x6e"]}="ht\x74\x70:/\x2f\x77\x77w\x2e\x6d\x61\x67a\x7a\x69n\x653\x2e\x63\x6f\x6d\x2fli\x63\x65\x6ese/";$ntkiknn="\x74\x68\x65\x6d\x65\x6e\x61\x6d\x65";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x79u\x70gjbvl\x73\x6f"]="\x74\x68\x65\x6d\x65\x5f\x70\x61\x74\x68";${$ntkiknn}="mm";$iirwiocu="\x73h\x6fr\x74\x6e\x61\x6d\x65";${$iirwiocu}="mm";${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x79\x75\x70g\x6a\x62\x76\x6cs\x6f"]}=TEMPLATEPATH."/\x69n\x63lude\x73/";${${"GL\x4f\x42\x41\x4cS"}["w\x66\x79\x66zqp\x6a\x6c"]}=get_template_directory_uri()."\x2f\x69n\x63\x6c\x75d\x65s/";add_action("\x69n\x69\x74","\x6d\x6d\x74\x68\x65\x6d\x65_op\x74i\x6f\x6e\x73");if(!function_exists("\x6d\x6dthem\x65_opt\x69on\x73")); {
function mmtheme_options(){
global $themename, $shortname, $wp_gal_cats, $wp_cats, $mmtheme_options, $order_array;
// Populate option in array for use in theme
$mmtheme_options = get_option('mmtheme_options');
/*-----------------------------------------------------------------------------------*/
/*	Catch the Wordpress Categories
/*-----------------------------------------------------------------------------------*/
	$options_categories = array();  
	$options_categories_obj = get_categories();
    $options_categories[''] = 'None';
	foreach ($options_categories_obj as $category) {
    	$options_categories[$category->cat_ID] = $category->cat_name;
	}
/*-----------------------------------------------------------------------------------*/
/*	Catch the Wordpress Pages 
/*-----------------------------------------------------------------------------------*/
$mmtheme_pages = get_pages('sort_column=post_parent,menu_order');    
$wp_pages = array();
foreach ($mmtheme_pages as $page_list) {
    $wp_pages[$page_list->ID] = $page_list->post_name; 
}
$mmtheme_pages_temp = array_unshift($wp_pages, "Select a page:"); 
/*-----------------------------------------------------------------------------------*/
/*	Make theme available for translation
/*-----------------------------------------------------------------------------------*/
load_theme_textdomain( 'mm', TEMPLATEPATH . '/languages' );
$locale = get_locale();
$locale_file = TEMPLATEPATH . "/languages/$locale.php";
if ( is_readable( $locale_file ) )
	require_once( $locale_file );
/*-----------------------------------------------------------------------------------*/
/*	 Creates the admin menu
/*-----------------------------------------------------------------------------------*/
$theme_array  		  = array("black"=>"Black Theme","white"=>"White Theme");
$font_array  		  = array("DroidItalic"=>"DroidItalic","KnockOut"=>"KnockOut","M2p"=>"M2p","Mido"=>"Mido","MrsEvans"=>"MrsEvans","Palatino"=>"Palatino","PTSans"=>"PTSans","QuickSand"=>"QuickSand","Titillium"=>"Titillium","Vegur"=>"Vegur");
$order_array  		  = array("rand"=>"Random","id"=>"Post-ID","date"=>"Post Date","title"=>"Post Title","modified"=>"Last modified");
$fontweight           = array("1" => "Normal","2" => "Bold");  
$slider_view		  = array("1" => "Only on Homepage","2" => "Site Wide");
$advance_header	      = array("1" => "Search Area","2" => "Advertisement Banner");
$seotitle  		  = array("titledesc"=>"Site Title - Site Description","desctitle"=>"Site Description - Site Title","title"=>"Title");
$singleseotitle = array("titledesc1"=>"Site Title - Post Title","desctitle1"=>"Post Title - Site Title","title1"=>"Post Title");
$seoed = array("true" => "Enable","false" => "Disable");
$indexcat = array("index" => "index","noindex" => "noindex");
$indextag = array("index" => "index","noindex" => "noindex");
$indexauthor = array("index" => "index","noindex" => "noindex");
$indexdate = array("index" => "index","noindex" => "noindex");
$indexsearch = array("index" => "index","noindex" => "noindex");

// Pull all the categories into an array 
// The Options
$options = array();
$options[] = array( "name" => __('Global','mm'),
					"id"=>"Global",
					"type" => "section",
					"icon" => "gear_in.png"); 
$options[] = array( "type" => "open");
$options[] = array( "name" => __('Global Options','mm'),
"desc" => __('<b>Upload Logo: </b> Upload your own Logo to use as Site Logo. (for bestfit: 297px x 131px)
<br /><br />
<b>Upload Favicon:</b> Upload a 16px x 16px Png/Gif image that will represent your website\'s favicon.
<br /><br />
<b>Analytics Tracking Code:</b> Insert Analytics Tracking Code
<br /><br />
<b>Copyright Text:</b> Insert Copyright Text
','mm'),
						"id"=>"subhead_general_logo",
						"type" => "subhead");
		$options[] = array( "name" => __('Upload Logo','mm'),
							"id" => $shortname."_custom_logo",
							"std" => "",
							"type" => "upload");
		$options[] = array( "name" => __('Upload Favicon','mm'),
							"id" => $shortname."_favicon",
							"std" => "",
							"type" => "upload");
                                                                
       $options[] = array(  "name" => __('Analytics Tracking Code','mm'),
				            "id" => $shortname."_track_code",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 ); 
       $options[] = array(  "name" => __('Copyright Text','mm'),
				            "id" => $shortname."_copy_text",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );
							
$options[] = array( "name" => __('Top Slider Area','mm'), 
"desc" => __('<b>Top Slider:</b> Turn ON or OFF Slider<br /><br />
 <b>Top Slider:</b> This slider show posts from selected category, So you can select the category here. <br />
','mm'),
						"id"=>"subhead_f_slider",
						"type" => "subhead");  					
						  
	$options[] = array( "name" => __('Top Slider','mm'),
						"id" => $shortname."_top_slider",
						"type" => "checkbox",                                        
						"std" => "true"); 	


  	$options[] = array( "name" => __('Top Slider Category','mm'),
						"id" => $shortname."_top_slider_cats",
						"type" => "select", 
						"options" => $options_categories);	
						
 $options[] = array( "type" => "close"); 
// Create the General Tab
$options[] = array( "name" => __('Homepage','mm'),
					"id"=>"general",
					"type" => "section",
					"icon" => "house.png");
$options[] = array( "type" => "open");
$options[] = array( "name" => __('Big Featured Area','mm'), 
"desc" => __('<b>Featured Area:</b> Turn ON or OFF Slider<br /><br />
 <b>Featured Category:</b> This slider show posts from selected category, So you can select the category here. <br />
','mm'),
						"id"=>"subhead_f_slider",
						"type" => "subhead");  					
						  
	$options[] = array( "name" => __('Featured Area','mm'),
						"id" => $shortname."_featured_slider",
						"type" => "checkbox",                                        
						"std" => "true"); 	


  	$options[] = array( "name" => __('Featured Category','mm'),
						"id" => "slider_cats_area",
						"type" => "select", 
						"options" => $options_categories);		                       
	
	$options[] = array( "type" => "close"); 
 

 $options[] = array( "name" => __('Single','mm'),
					"id"=>"Single",
					"type" => "section",
					"icon" => "page_white_edit.png");

$options[] = array( "type" => "open");    

$options[] = array( "name" => __('Single Post Settings','mm'),
						"id"=>"subhead_singlepost",
							"desc" => __('<b>AuthorBox:</b> Choosing "ENABLE" will display author info below each post. Choosing "DISABLE" will hide the author info.<br /><br />
<b>Floating Social Section:</b> Choosing "ENABLE" will display show Floating Social Section on the left side of an article. Choosing "DISABLE" will hide it.<br /><br />
<b>Metadata:</b> You can use this to turn of this part from the single post article. <div style="font-style: italic;">"by admin - on Dec 20th 2011 - No Comments   0 Views"</div>
  This option is just for Single article area. So disabling this will hide meta data from single article but not from homepage.<br /><br />
  <b>Related Posts:</b> Turn ON or OFF Recent Post Below Post.<br /><br />
  <b>How many Related Posts?:</b> Type the number of posts that you want in related post. - DEFAULT: 5<br />
','mm'),
						"type" => "subhead");        

  	$options[] = array( "name" => __('AuthorBox ','mm'),
						"id" => $shortname."_author_box",
						"type" => "checkbox",
                        "std" => "true");

  	$options[] = array( "name" => __('Floating Social  Section','mm'),
						"id" => $shortname."_share_box",
						"type" => "checkbox",
                        "std" => "true");

  	$options[] = array( "name" => __('Metadata','mm'),
						"id" => $shortname."_meta_data",
						"type" => "checkbox",
                        "std" => "true");     

  	$options[] = array( "name" => __('Related Posts','mm'),
						"id" => $shortname."_related_posts",
						"type" => "checkbox",
                        "std" => "true"); 
                         
   	$options[] = array( "name" => __('How many Related Posts?','mm'),
				    	"id" => $shortname."_relatedpost_number",
				    	"type" => "text",
				    	"std" => "5",);   
                                                               

 $options[] = array( "type" => "close");  

// Create the Font Tab

$options[] = array( "name" => __('Fonts','mm'),
					"id"=> $shortname."_header_font",
					"type" => "section",
					"icon" => "font_colors.png");

$options[] = array( "type" => "open");

$options[] = array( "name" => __('Font Settings','mm'),
"desc" =>  __('<b>Link Font Color: </b>Change Link Hover Font Color (Default Color is #236CBF)<br /><br />
<b>Link Font Hover Color: </b>Change Link Font Color (Default Color is #236CBF)<br /><br />
<b>Single PostTitle fonts: </b>Select your H1 font from Google Font API. <a href="http://www.google.com/webfonts" target="_blank">See all Google Fonts</a><br /><br />
<b>Font size for Single post content: </b>Select the fontsize for article content in px - DEFAULT: 15px<br /><br />','mm'),
						"id"=>"subhead_singlepost",
						"type" => "subhead");

      $options[] = array( "name"  => __('Link Font Color','mm'),

							"id" => $shortname."_body_link_color",
							"type" => "colorpicker",
							"std" => "#236CBF");

       $options[] = array( "name"  => __('Link Font Hover Color','mm'),
							"id" => $shortname."_body_link_hover_color",
							"type" => "colorpicker",
							"std" => "#236CBF");      
								
		
	 $options[] = array( "name" => __('Single PostTitle fonts','mm'),
							"id" => $shortname."_body_postpage_font",
							"std" => "Lora, serif",
							"type" => "font");
	
	
		$options[] = array( "name" => __('Font size for Single post content','mm'),
							"id" => $shortname."_postcontent_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "15",
							"min" => "1",
							"std" => "15"); 

						
												

$options[] = array( "name" => __('H1 Font','mm'),
"desc" =>  __('<b>H1 Font Family: </b>Select your H1 font from Google Font API. See all Google Fonts<br /><br />
<b>H1 Font Size: </b>Select the fontsize for H1 in px (Default is 25)<br /><br />
<b>H1 Font Font Color: </b>Change H1 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"id"=>"subhead_font_main",
						"type" => "subhead");                   

       $options[] = array( "name" => __('H1 Font Family','mm'),
							"id" => $shortname."_body_h1_font",
							"std" => "Arial,Helvetica,sans-serif",
							"type" => "font");

		$options[] = array( "name" => __('H1 Font Size','mm'),
							"id" => $shortname."_body_h1_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60",
							"min" => "1",
							"std" => "25");

       $options[] = array( "name"  => __('H1 Font Font Color','mm'),
							"id" => $shortname."_body_h1_font_color",
							"type" => "colorpicker",
							"std" => "#000");      
                            
$options[] = array( "name" => __('H2 Font','mm'),
"desc" =>  __('<b>H2 Font Family: </b>Select your H2 font from Google Font API. See all Google Fonts<br /><br />
<b>H2 Font Size: </b>Select the fontsize for H2 in px (Default is 24)<br /><br />
<b>H2 Font Font Color: </b>Change H2 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"id"=>"subhead_font_main",
						"type" => "subhead");         
                                  

       $options[] = array( "name" => __('H2 Font Family','mm'),
							"id" => $shortname."_body_h2_font",
							"std" => " Arial,Helvetica,sans-serif",
							"type" => "font");

		$options[] = array( "name" => __('H2 Font Size','mm'),
							"id" => $shortname."_body_h2_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60",
							"min" => "1",
							"std" => "24");

       $options[] = array( "name"  => __('H2 Font Font Color','mm'),
							"id" => $shortname."_body_h2_font_color",
							"type" => "colorpicker",
							"std" => "#000");      

$options[] = array( "name" => __('H3 Font','mm'),
						"id"=>"subhead_font_main",
						"desc" =>  __('<b>H3 Font Family: </b>Select your H3 font from Google Font API. See all Google Fonts<br /><br />
<b>H3 Font Size: </b>Select the fontsize for H3 in px (Default is 24)<br /><br />
<b>H3 Font Font Color: </b>Change H3 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"type" => "subhead");                   

       $options[] = array( "name" => __('H3 Font Family','mm'),
							"id" => $shortname."_body_h3_font",
							"std" => " Arial,Helvetica,sans-serif",
							"type" => "font");

		$options[] = array( "name" => __('H3 Font Size','mm'),
							"id" => $shortname."_body_h3_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60", 
							"min" => "1",
							"std" => "24"); 

       $options[] = array( "name"  => __('H3 Font Font Color','mm'),
							"id" => $shortname."_body_h3_font_color",
							"type" => "colorpicker",
							"std" => "#000");      

$options[] = array( "name" => __('H4 Font','mm'),
						"desc" =>  __('<b>H4 Font Family: </b>Select your H4 font from Google Font API. See all Google Fonts <br /><br />
<b>H4 Font Size: </b>Select the fontsize for H4 in px (Default is 21)<br /><br />
<b>H4 Font Font Color: </b>Change H4 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"id"=>"subhead_font_main",
						"type" => "subhead");                   

       $options[] = array( "name" => __('H4 Font Family','mm'),
							"id" => $shortname."_body_h4_font",
							"std" => " Arial,Helvetica,sans-serif",
							"type" => "font");
		$options[] = array( "name" => __('H4 Font Size','mm'),
							"id" => $shortname."_body_h4_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60",
							"min" => "1",
							"std" => "21");

       $options[] = array( "name"  => __('H4 Font Font Color','mm'),
							"id" => $shortname."_body_h4_font_color",
							"type" => "colorpicker",
							"std" => "#000");      

$options[] = array( "name" => __('H5 Font','mm'),
						"desc" =>  __('<b>H5 Font Family: </b>Select your H5 font from Google Font API. See all Google Fonts <br /><br />
<b>H5 Font Size: </b>Select the fontsize for H5 in px (Default is 16)<br /><br />
<b>H5 Font Font Color: </b>Change H5 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"id"=>"subhead_font_main",
						"type" => "subhead");                   

       $options[] = array( "name" => __('H5 Font Family','mm'),
							"id" => $shortname."_body_h5_font",
							"std" => " Arial,Helvetica,sans-serif",
							"type" => "font");

		$options[] = array( "name" => __('H5 Font Size','mm'),
							"id" => $shortname."_body_h5_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60",
							"min" => "1",
							"std" => "16");

       $options[] = array( "name"  => __('H5 Font Font Color','mm'),
							"id" => $shortname."_body_h5_font_color",
							"type" => "colorpicker",
							"std" => "#000");      

$options[] = array( "name" => __('H6 Font','mm'),
	"desc" =>  __('<b>H6 Font Family: </b>Select your H6 font from Google Font API. See all Google Fonts<br /><br />
<b>H6 Font Size: </b>Select the fontsize for H6 in px  (Default is 14)<br /><br />
<b>H6 Font Font Color: </b>Change H6 Font Color (Default Color is #000000)</a><br /><br />','mm'),
						"id"=>"subhead_font_main",
						"type" => "subhead");                   

       $options[] = array( "name" => __('H6 Font Family','mm'),
							"id" => $shortname."_body_h6_font",
							"std" => " Arial,Helvetica,sans-serif",
							"type" => "font");

		$options[] = array( "name" => __('H6 Font Size','mm'),
							"id" => $shortname."_body_h6_font_size",
							"type" => "slider",
							"step" => "1",
							"mmtheme" => "60",
							"min" => "1",
							"std" => "14");

       $options[] = array( "name"  => __('H6 Font Font Color','mm'), 
							"id" => $shortname."_body_h6_font_color",
							"type" => "colorpicker",
							"std" => "#000");      

$options[] = array( "type" => "close");

// Create the Social Tab

$options[] = array( "name" => __('Social','mm'),
					"id"=> $shortname."_social_homepage",
					"type" => "section",
					"icon" => "twitter.png");
        $options[] = array( "type" => "open");

    	$options[] = array( "name" => __('Social Profile Settings','mm'),
"desc" => __('Enable & Disable to show or hide the Specific button. Another input area is for adding your profile url. These are very easy options so i hope you will understand them.','mm'),
						"id"=>"",
						"type" => "subhead");


                        
                        
    	$options[] = array( "name" => __('Facebook','mm'),
						"desc" => __('Turn ON or OFF Facebook Logo','mm'),
						"id" => $shortname."_social2_on_off",
						"type" => "checkbox",
						"std" => "true", 
						);

    	$options[] = array( "name" => __('Facebook Profile Url','mm'),
				    	"id" => $shortname."_social2_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "http://www.facebook.com/pages/Magazine3/145942342122558",);     

    	$options[] = array( "name" => __('Flickr','mm'),
						"desc" => __('Turn ON or OFF Flickr Logo','mm'),
						"id" => $shortname."_social3_on_off",
						"type" => "checkbox",

						);

    	$options[] = array( "name" => __('Flickr Profile Url','mm'),
				    	"id" => $shortname."_social3_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     


    	$options[] = array( "name" => __('Google+','mm'),
						"desc" => __('Turn ON or OFF Google+ Logo','mm'),
						"id" => $shortname."_social5_on_off",
						"type" => "checkbox",);

    	$options[] = array( "name" => __('Google+ Profile Url','mm'),
 "id" => $shortname."_social5_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     

    	$options[] = array( "name" => __('LinkedIn','mm'),
						"desc" => __('Turn ON or OFF LinkedIn Logo','mm'),
						"id" => $shortname."_social6_on_off",
						"type" => "checkbox",);

    	$options[] = array( "name" => __('LinkedIn Profile Url','mm'),
"id" => $shortname."_social6_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     

    	$options[] = array( "name" => __('Pinterest ','mm'),
						"desc" => __('Turn ON or OFF Pinterest Logo','mm'),
						"id" => $shortname."_social7_on_off",
						"type" => "checkbox",);

    	$options[] = array( "name" => __('Pinterest Profile Url','mm'),
 "id" => $shortname."_social7_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",); 

    	$options[] = array( "name" => __('RSS','mm'),
						"desc" => __('Turn ON or OFF RSS Logo','mm'),
						"id" => $shortname."_social8_on_off",
						"type" => "checkbox",);

    	$options[] = array( "name" => __('RSS Profile Url','mm'), 
"id" => $shortname."_social8_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     

   

    	$options[] = array( "name" => __('Twitter','mm'),
						"desc" => __('Turn ON or OFF Twitter Logo','mm'),
						"id" => $shortname."_social10_on_off",
						"std" => "true", 
						"type" => "checkbox",);

    	$options[] = array( "name" => __('Twitter Profile Url','mm'),
 "id" => $shortname."_social10_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "http://twitter.com/m3themes",);           

   	$options[] = array( "name" => __('Vimeo','mm'),
						"desc" => __('Turn ON or OFF Vimeo Logo','mm'),
						"id" => $shortname."_social11_on_off",
						"type" => "checkbox",);

   	$options[] = array( "name" => __('Vimeo Profile Url','mm'),
 "id" => $shortname."_social11_link",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     

   	$options[] = array( "name" => __('Youtube','mm'),
						"desc" => __('Turn ON or OFF Youtube Logo','mm'),
						"id" => $shortname."_social12_on_off",
						"type" => "checkbox",);

   	$options[] = array( "name" => __('Youtube Profile Url','mm'),
 "id" => $shortname."_social12_link",
                           "type" => "select",
				    	"type" => "text",
				    	"std" => "#",);     

 $options[] = array( "type" => "close");                 

 
$options[] = array( "name" => __('Ads','mm'),
					"id"=> $shortname."_advet",
					"type" => "section",
					"icon" => "advertising.png");  
					             

 $options[] = array( "type" => "open");
 $options[] = array( "name" => __('Blocks info','mm'),
						"id"=>"subhead_block1",
						"type" => "subhead4"); 
    	$options[] = array( "name" => __('Advertisement Settings','mm'),
    		"desc" => __('<b>Advertisement Slot:</b> Turn ON or OFF Advertisement Slot<br /><br />
    		<b>Text Area below it:</b> is where you paste the code.   		','mm'),
						"id"=>"",
						"type" => "subhead");
        $options[] = array( "name" => __('Advertisement Slot #1 ','mm'),
		      				"id" => $shortname."_ad_1_on_off",
		      				"type" => "checkbox", ); 

       $options[] = array(   

                            "desc" => __('728x90 (On very top of the website)','mm'),
				            "id" => $shortname."_ad_1",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );    

        $options[] = array( "name" => __('Advertisement Slot #2 ','mm'),
		      				"desc" => __('Turn ON or OFF Advertisement Slot 2','mm'),
		      				"id" => $shortname."_ad_2_on_off",
		      				"type" => "checkbox", ); 

       $options[] = array(  

                            "desc" => __('728x90 (Below Navigation - Sitewide)','mm'),
				            "id" => $shortname."_ad_2",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );    

        $options[] = array( "name" => __('Advertisement Slot #3','mm'),
		      				"desc" => __('Turn ON or OFF Advertisement Slot 3','mm'),
		      				"id" => $shortname."_ad_3_on_off",

		      				"type" => "checkbox", ); 

       $options[] = array(   

                            "desc" => __('728x90 (Below the Featured Section - Homepage)','mm'),
				            "id" => $shortname."_ad_3",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );     
        

        $options[] = array( "name" => __('Advertisement Slot #4 ','mm'),
		      				"desc" => __('Turn ON or OFF Advertisement Slot 4','mm'),
		      				"id" => $shortname."_ad_4_on_off",
		      				"type" => "checkbox", ); 

       $options[] = array(  

                            "desc" => __('Top of Single Posts','mm'),
				            "id" => $shortname."_ad_4",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );   

        $options[] = array( "name" => __('Advertisement Slot #5 ','mm'),
		      				"desc" => __('Turn ON or OFF Advertisement Slot 5','mm'),
		      				"id" => $shortname."_ad_5_on_off",
		      				"type" => "checkbox", ); 

        $options[] = array(  

                            "desc" => __('Bottom of Single Posts','mm'),
				            "id" => $shortname."_ad_5",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );   

        $options[] = array( "name" => __('Advertisement Slot #6 ','mm'),
		      				"desc" => __('Turn ON or OFF Advertisement Slot 6','mm'),
		      				"id" => $shortname."_ad_6_on_off",
		      				"type" => "checkbox", ); 
       $options[] = array(   
                            "desc" => __('Above the footer','mm'),
				            "id" => $shortname."_ad_6",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 4 );   



 $options[] = array( "type" => "close");
$options[] = array( "name" => __('SEO','mm'),
					"id"=> $shortname."_advance",
					"type" => "section",

					"icon" => "advance.png");

$options[] = array( "type" => "open");


$options[] = array( "name" => __('Global SEO Settings','mm'),
						"id"=>"global_seo",
						"type" => "subhead2");

$options[] = array( "name" => __('Global SEO Settings','mm'),
		      			"desc" => __('
		      			<b>Magazine3 SEO</b>: If you wish to use 3rd party SEO plugins, then Disable the "Magazine3 SEO". <br /><br />
		      			<b>Title</b>: As the name implies, this will be the title of your homepage. This is independent of any other option. If not set, the default blog title will get used. <br /><br />
		      			<b>Meta Description</b>: The META description for your homepage. Independent of any other options, the default is no META description at all if this is not set. <br /><br />
		      			<b>Keywords</b>: A comma separated list of your most important keywords for your site that will be written as META keywords on your homepage. Dont stuff everything in here. <br /><br />
		      			<b>Seperator</b>: This is the seprator between title & description.<br /><br />
		      			<b>Canonical</b>: This option will automatically generate Canonical URLS for your entire WordPress installation. This will help to prevent duplicate content penalties by Google. <br />
		      			','mm'),
						"id"=>"global_seo",
						"type" => "subhead");



 $options[] = array(  
 "name" => __('Magazine3 SEO','mm'),
	"desc" => __('To use 3rd party seo plugins, Disable this option ','mm'),
 ); 

  $options[] = array( "name" => __('Magazine3 SEO','mm'),
		      				"desc" => __('To use 3rd party seo plugins, Disable this option ','mm'),
		      				"id" => $shortname."_seo_on_off",
                            "type" => "select",
                            "options" => $seoed,
                            "std" => "true");  
     
    		$options[] = array( "name" => __('Title','mm'),
				    	"id" => "blogname",
				    	"type" => "text",
				    	"std" => "",);  			
						
						
		$options[] = array(  "name" => __('Meta Description','mm'),
                            "desc" => __('Description for SEO','mm'),
				            "id" => "blogdescription",
				        	"type" => "select",
				        	"type" => "textarea",
				        	"std" => "",
                          	"rows"=> 6 ); 			

		$options[] = array( "name" => __('Keywords','mm'),
				    	"id" => $shortname."_homepage-seo-keyword",
				    	"type" => "select",
				    	"type" => "text",
				    	"std" => "",);  			
		
	 $options[] = array( "name" => __('Seperator','mm'),
				    	"id" => $shortname."_homepage-seo-sep",
				    	"type" => "text",
				    	"std" => " - ",);  					
 	
		$options[] = array( "name" => __(' Canonical','mm'),
		      				"desc" => __('Turn ON or OFF Canonical Settings','mm'),
		      				"id" => $shortname."_canonical_on_off",
                            "type" => "checkbox",
                            "std" => "true");  	                
							
$options[] = array( "name" => __('Homepage Setttings','mm'),
						"id"=>"subhead_general_logo",
						"desc" => __('<b>Home Title Format</b>: Define the order the title, description and meta data appears in. 
		      			','mm'),
						"type" => "subhead");
		           
	$options[] = array( "name" => __('Home Title Format','mm'),
							"id" => $shortname."_seo_home_title",
							"options" => $seotitle,
							"std" => "title", 
							"type" => "select");   			
						
		 

$options[] = array( "name" => __('Single Setttings','mm'),
						"id"=>"subhead_general_logo",
												"desc" => __('<b>Single Title Format</b>: Define the order the title, description and meta data appears in. 			','mm'),
						"type" => "subhead");						
 
						
			$options[] = array( "name" => __('Single Title Format','mm'),
							"id" => $shortname."_seo_single_title",
								
							"options" => $singleseotitle,
							"std" => "desctitle1", 
							"type" => "select");   			 
$options[] = array( "name" => __('Index Setttings','mm'),
						"id"=>"subhead_general_logo",
							"desc" => __('Select which archives to index on your site. Aids in removing duplicate content from being indexed, preventing content dilution.','mm'),
						"type" => "subhead");				

$options[] = array( "name" => __('Category Archives','mm'),
		      				"id" => $shortname."_seo_index_category", 
                            "type" => "select",
                            "options" => $indexcat,
                            "std" => "index"); 						
$options[] = array( "name" => __('Tag Archives','mm'),
		      				"id" => $shortname."_seo_index_tag",
                            "type" => "select",
                            "options" => $indextag,
                            "std" => "index"); 				
$options[] = array( "name" => __('Author Archives','mm'),
		      				"id" => $shortname."_seo_index_author",
                            "type" => "select",
                            "options" => $indexauthor,
                            "std" => "index"); 						
$options[] = array( "name" => __('Date Archives','mm'),
		      				"id" => $shortname."_seo_index_date",
                            "type" => "select",
                            "options" => $indexdate,
                            "std" => "index"); 						
$options[] = array( "name" => __('Search Results','mm'),
		      				"id" => $shortname."_seo_index_search",
                            "type" => "select",
                            "options" => $indexsearch,
                            "std" => "index"); 						
						
$options[] = array( "type" => "close");
// update Some Options
update_option('mmtheme_template',$options); 					  
update_option('mmtheme_themename',$themename);   
update_option('mmtheme_shortname',$shortname);
// Generate the admin menu
function mmtheme_admin_add_admin() {
    $themename =  get_option('mmtheme_themename');      
    $shortname =  get_option('mmtheme_shortname'); 
	$options   =  get_option('mmtheme_template'); 
	if ( isset($_GET['page']) && $_GET['page'] == basename(__FILE__) ) {
		if ( 'save' == $_REQUEST['action'] ) {
				foreach ($options as $value) {  
				if( $value['type'] == 'upload' ){			
					$overrides = array( 'test_form' => false);
					$upload = wp_handle_upload( $_FILES[ $value['id'] ], $overrides );
					if( isset( $upload['url'] ) ){
						update_option( $value['id']."_value", $upload['url'] );
					}		
					if( $_POST[ $value['id']."_delete" ] == 'true' ) {						
delete_option( $value['id']."_value" );
	} } else {	
		update_option( $value['id'], $_REQUEST[ $value['id'] ]  );
				}
			}
			header("Location: admin.php?page=mm.php&saved=true"); die; 			
		}else if( 'reset' == $_REQUEST['action'] ) {	 
			foreach ($options as $value) { 
				delete_option( $value['id'] ); 
			}	 header("Location: admin.php?page=mm.php&reset=true");
			die; 		} 	}
	// Adds the menu page
add_object_page('Theme Options', 'Theme Options', 'manage_options', basename(__FILE__), 'mmtheme_theme_admin', get_template_directory_uri() . '/includes/mm/images/m3-icon.png'); }
// Add the Admin menu
add_action('admin_init', 'mmtheme_admin_add_init');  add_action('admin_menu', 'mmtheme_admin_add_admin');  }
/*-----------------------------------------------------------------------------------*/
/*	Add some Filters to allow shortcodes in a Text Widget
/*-----------------------------------------------------------------------------------*/
add_filter('widget_text', 'shortcode_unautop'); add_filter('widget_text', 'do_shortcode'); } ?>
